(function(c){var d=function(H){var v={};var z={};var J=80;var C=80;var F=0;var a=0;var x=0;var E=c("body").css("font-family");var K="";var I=function(){c(v.fontsizeSelector).filter(function(g){var k=this.nodeName.toLowerCase();var h=false;var f=0;var e=1;switch(k){case"h1":f=100;h=true;break;case"h2":f=80;e=0.8;h=true;break;case"h3":f=40;e=0.6;h=true;break;case"h4":f=20;e=0.4;h=true;break}if(h){if(v.fontSizeOverride){c(this).attr("style","font-size:"+(parseInt(C)+(v.fontSizeHeadersIncrement*e)+f)+"%")}else{var j=c(this).attr("style")||"";c(this).attr("style",j+";font-size:"+(parseInt(C)+(v.fontSizeHeadersIncrement*e)+f)+"%")}}})};var w=function(f){a=parseInt(window.sessionStorage.getItem("scr_highcontrast_alternate"))||0;var e=function(){c("html").removeClass("scr_highcontrast");F=0;window.sessionStorage.setItem("scr_highcontrast",F);if(!K){K=c("html").attr("style")}var j="";if(c(this).data("rotate")){j=" hue-rotate("+parseInt(c(this).data("rotate"))+"deg)"}var h="";if(c(this).data("brightness")){h=" brightness("+parseInt(c(this).data("brightness"))+")"}c("html").attr("style",K+";-webkit-filter: invert(100%)"+j+h+";filter: invert(100%)"+j+h)};if(!a){e.bind(this)();a=c(this).data("alternate")}else{if(a&&typeof(f)!=="undefined"){var g=c(this).data("alternate");if(g==a){c("html").attr("style",K);a=0}else{a=g;e.bind(this)()}}else{if(a&&typeof(f)==="undefined"){e.bind(this)()}}}if(window.sessionStorage){window.sessionStorage.setItem("scr_highcontrast_alternate",a)}};var B=function(k,m){k=k.toUpperCase();var f=k.split("");var g="";var h="FEDCBA9876".split("");var l=new Array();l.A="5";l.B="4";l.C="3";l.D="2";l.E="1";l.F="0";for(i=0;i<6;i++){if(!isNaN(f[i])){g+=h[f[i]]}else{if(l[f[i]]){g+=l[f[i]]}else{return false}}}if(m&&v.ieHighContrast){var j=parseInt(k,16);var e=parseInt(g,16);if(e<j){return k}}return g};var b=function(f){var l=/rgba? *\( *([0-9]{1,3}) *, *([0-9]{1,3}) *, *([0-9]{1,3})(, *[0-9]{1,3}[.0-9]*)? *\)/;var g=l.exec(f);if(!g){return"FFFFFF"}var e=Math.round(parseFloat(g[1]));var j=Math.round(parseFloat(g[2]));var h=Math.round(parseFloat(g[3]));var k=(e+65536).toString(16).substring(3).toUpperCase()+(j+65536).toString(16).substring(3).toUpperCase()+(h+65536).toString(16).substring(3).toUpperCase();return k};var A=function(e){var f=" -webkit- -moz- -o- -ms- ".split(" ");var g=document.createElement("div");g.style.cssText=f.join("filter:invert(100%); ");return !!g.style.length&&((document.documentMode===undefined||document.documentMode>9))};var D=function(f){var e=c(f);c.fn.skipElement=function(h){var j=this.css(h);this.css(h,"inherit");var g=this.css(h);if(j!=g&&b(g)!="000000"){this.css(h,g);return true}else{this.css(h,j);return false}};c(f).each(function(h,m){if(c.inArray(m.nodeName.toLowerCase(),["script","embed","object"])==-1){if(v.ieHighContrastAdvanced){var o=c(m).css("background-color");var g=c(m).css("color");if(o&&g){var j=B(b(o));var k=B(b(g),true);var l=c(m).attr("style")||"";var n=l+" background-color:#"+j+" !important; color:#"+k+" !important";c(m).attr("style",n)}}else{if(!c(m).skipElement("background-color")){var o=c(m).css("background-color");var g=c(m).css("color");if(o&&g){var j=B(b(o));var k=B(b(g),true);c(m).css("background-color","#"+j);c(m).css("color","#"+k)}}}}})};this.buildInterface=function(){var X=c("<div/>").attr("id","accessibility-links").addClass(v.position+" "+v.scrolling);if(v.targetAppendMode=="bottom"){X.appendTo(v.targetAppendto)}else{if(v.targetAppendMode=="top"){X.prependTo(v.targetAppendto)}}var U=c("<div/>").attr("id","text_plugin").attr("title",fr_screenreader).addClass("scbasebin screenreader text");if(!v.showlabel){U.addClass("scr_nolabel")}X.append(U);if(v.screenreader){var aa=c("<div/>").attr("id","volume_plugin").addClass("scbasebin");X.append(aa)}var Y=c("<div/>").attr("id","speaker_plugin").addClass("scbasebin speaker");X.append(Y);var Z=c("<div/>").css("clear","both");X.append(Z);if(v.showlabel){var j=c("<label/>").addClass("fr_label startapp").text(fr_screenreader);U.append(j)}if(v.screenreader){var W=c("<button/>").attr({id:"fr_screenreader_play",title:"Play",accesskey:v.accesskey_play}).addClass("pinnable").text("Play");Y.append(W);var f=c("<button/>").attr({id:"fr_screenreader_pause",title:"Pause",accesskey:v.accesskey_pause}).addClass("pinnable").text("Pause");Y.append(f);var l=c("<button/>").attr({id:"fr_screenreader_stop",title:"Stop",accesskey:v.accesskey_stop}).addClass("pinnable").text("Stop");Y.append(l)}if(v.fontsize){var m=c("<button/>").attr({id:"fr_screenreader_font_increase",title:fr_increase,accesskey:v.accesskey_increase,"data-value":"1"}).addClass("sizable").text(fr_increase);Y.append(m);var g=c("<button/>").attr({id:"fr_screenreader_font_decrease",title:fr_decrease,accesskey:v.accesskey_decrease,"data-value":"-1"}).addClass("sizable").text(fr_decrease);Y.append(g);var T=c("<button/>").attr({id:"fr_screenreader_font_reset",title:fr_reset,accesskey:v.accesskey_reset,"data-value":"0"}).addClass("resizable").text(fr_reset);Y.append(T)}if(v.dyslexicFont){var u=c("<button/>").attr({id:"fr_screenreader_font_family",title:fr_dyslexic_title,accesskey:v.accesskey_dyslexic,"data-value":"0"}).text(fr_dyslexic_title);Y.append(u)}var k=0;if(!v.screenreader){k=100}if(!v.dyslexicFont){k+=35}if(v.highcontrast){var V=c("<button/>").attr({id:"fr_screenreader_highcontrast",title:fr_highcontrast,accesskey:v.accesskey_highcontrast,"data-value":"0"}).text(fr_highcontrast);Y.append(V);var s=v.highcontrastAlternate&&A();if(s){var o=c("<button/>").attr({id:"fr_screenreader_highcontrast2",title:fr_highcontrast,accesskey:v.accesskey_highcontrast2,"data-alternate":"1","data-rotate":v.colorHue}).text(fr_highcontrast);Y.append(o);var q=c("<button/>").attr({id:"fr_screenreader_highcontrast3",title:fr_highcontrast,accesskey:v.accesskey_highcontrast3,"data-alternate":"2","data-rotate":v.colorHue,"data-brightness":v.colorBrightness}).text(fr_highcontrast);Y.append(q);a=parseInt(window.sessionStorage.getItem("scr_highcontrast_alternate"))||0;if(a){var n=c("button[data-alternate="+a+"]");w.call(n)}}if(v.fontsize&&s){c("#speaker_plugin").css("width",parseInt(345-k)+"px")}else{if(v.fontsize){c("#speaker_plugin").css("width",parseInt(285-k)+"px")}else{if(!v.fontsize&&s){c("#speaker_plugin").css("width",parseInt(255-k)+"px")}}}}else{if(v.fontsize){c("#speaker_plugin").css("width",parseInt(255-k)+"px")}else{c("#speaker_plugin").css("width",parseInt(135-k)+"px")}}if(v.template=="custom.css"){c("#speaker_plugin button").css("background-color",v.toolbarBgcolor);c("#accessibility-links").css("background","transparent")}else{c("#accessibility-links").css("background-color",v.toolbarBgcolor)}if(screenReaderConfigOptions.useMinimizedToolbar){var p=c("#volume_plugin").width();var e=c("#speaker_plugin").width();var t=parseInt(p+e);var h=0;var r="+";c("#text_plugin").attr("accesskey",screenReaderConfigOptions.accesskey_minimized);switch(v.position){case"bottomright":case"topright":c("#accessibility-links").css({right:"-"+(t+2)+"px"});c("#text_plugin label").css({cursor:"pointer"});c("#text_plugin").css({cursor:"pointer"}).on("click",function(L){c("#accessibility-links").animate({right:(r+h)},500,function(){h=h?0:t;r="+"?"-":"+"})});break}}};this.startTTSEngine=function(){z=new jQuery.frTTSEngine(v);return true};var y=function(){c(document).on("click",".sizable",function(e){var g=parseInt(c(this).data("value"));C=parseInt(C)+parseInt(g*5);if(C>v.fontsizeMax){C=v.fontsizeMax}else{if(C<v.fontsizeMin){C=v.fontsizeMin}}c("body").css("font-size",C+"%");if(v.fontsizeSelector){if(v.fontSizeOverride){c(v.fontsizeSelector).attr("style","font-size:"+(parseInt(C)+20)+"%")}else{var f=c(v.fontsizeSelector);c.each(f,function(k,j){var h=c(j).attr("style")||"";c(j).attr("style",h+";font-size:"+(parseInt(C)+20)+"%")})}I()}if(window.sessionStorage){window.sessionStorage.setItem("scr_fontsize",C)}});c(document).on("click",".resizable",function(e){C=J;c("body").css("font-size",J+"%");if(v.fontsizeSelector){if(v.fontSizeOverride){c(v.fontsizeSelector).attr("style","font-size:"+(parseInt(C)+20)+"%")}else{var f=c(v.fontsizeSelector);c.each(f,function(g,j){var h=c(j).attr("style")||"";c(j).attr("style",h+";font-size:"+(parseInt(C)+20)+"%")})}I()}if(window.sessionStorage){window.sessionStorage.setItem("scr_fontsize",J)}});c(document).on("click","#fr_screenreader_highcontrast",function(e){F=!!parseInt(window.sessionStorage.getItem("scr_highcontrast"))||0;if(!F){if(a){c("html").attr("style",K);a=0;if(window.sessionStorage){window.sessionStorage.setItem("scr_highcontrast_alternate",a)}}c("html").addClass("scr_highcontrast");if("ActiveXObject" in window){D("body, body *:not(#accessibility-links, #accessibility-links *, div.shapes)")}F=1}else{c("html").removeClass("scr_highcontrast");if("ActiveXObject" in window){F=0;window.location.reload()}F=0}if(window.sessionStorage){window.sessionStorage.setItem("scr_highcontrast",F)}});c(document).on("click","#fr_screenreader_font_family",function(e){x=!!parseInt(window.sessionStorage.getItem("scr_dyslexicfont"))||0;if(!x){c("body").addClass("scr_dyslexic");if(v.fontsizeSelector){if(v.fontSizeOverride){c(v.fontsizeSelector).attr("style","font-family:OpenDyslexic")}else{var f=c(v.fontsizeSelector);c.each(f,function(g,j){var h=c(j).attr("style")||"";c(j).attr("style",h+";font-family:OpenDyslexic")})}}x=1}else{c("body").removeClass("scr_dyslexic");if(v.fontsizeSelector){if(v.fontSizeOverride){c(v.fontsizeSelector).removeAttr("style")}else{var f=c(v.fontsizeSelector);c.each(f,function(g,j){var h=c(j).attr("style")||"";c(j).attr("style",h+";font-family:"+E)})}}x=0}if(window.sessionStorage){window.sessionStorage.setItem("scr_dyslexicfont",x)}});c(document).on("click","#fr_screenreader_highcontrast2, #fr_screenreader_highcontrast3",w)};(function G(){c.extend(v,H);if(jQuery.frTTSEngine===undefined){jQuery('script[src*="tts.js"]').clone().appendTo("body")}var e=c("body").css("background-color");c("html").css("background-color",e);J=C=v.fontsizeDefault;if(window.sessionStorage){var f=window.sessionStorage.getItem("scr_fontsize");if(f){C=f}if(v.fontsize){c("body").css("font-size",C+"%")}if(v.fontsizeSelector){if(v.fontSizeOverride){c(v.fontsizeSelector).attr("style","font-size:"+(parseInt(C)+20)+"%")}else{var g=c(v.fontsizeSelector);c.each(g,function(k,j){var h=c(j).attr("style")||"";c(j).attr("style",h+";font-size:"+(parseInt(C)+20)+"%")})}I()}F=!!parseInt(window.sessionStorage.getItem("scr_highcontrast"))||0;if(F){c("html").addClass("scr_highcontrast");if("ActiveXObject" in window){D("body, body *:not(#accessibility-links, #accessibility-links *, div.shapes)")}}x=!!parseInt(window.sessionStorage.getItem("scr_dyslexicfont"))||0;if(x){c("body").addClass("scr_dyslexic");if(v.fontsizeSelector){if(v.fontSizeOverride){c(v.fontsizeSelector).attr("style","font-family:OpenDyslexic")}else{var g=c(v.fontsizeSelector);c.each(g,function(k,j){var h=c(j).attr("style")||"";c(j).attr("style",h+";font-family:OpenDyslexic")})}}}}y()}).call(this)};c(function(){function a(){var b=!!("ontouchstart" in window);var h=!!(navigator.msMaxTouchPoints);var g=b||h;return g}if(screenReaderConfigOptions.hideOnMobile&&a()){return}window.ScreenReaderMainController=new d(screenReaderConfigOptions);ScreenReaderMainController.buildInterface();ScreenReaderMainController.startTTSEngine()})})(jQuery);